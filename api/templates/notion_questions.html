{% extends 'layouts/main.html' %}

{% block content %}
<form method="POST">
  <p>
    But : vérifier que les questions dans Notion sont bien formatées.
  </p>
  <p>
    Exemple d'erreurs remontées : 
    <ul>
      <li>une question validée doit avoir : un type, une catégorie, une difficulté, ...</li>
      <li>le tag n'existe pas encore dans la base de donnée de l'application</li>
    </ul>
  </p>
  <p>
    Notes : cache bizarre, questions id -10000
  </p>
  {% csrf_token %}
  <input type="hidden" name="run_notion_questions_validate_script" value="1" />
  <input type="submit" value="Lancer la vérification">
  <i>l'attente peut être longue... environ 1 minute</i>
</form>

<hr style="margin-top:20px;margin-bottom:20px" />

<h4>Erreurs : </h4>
{% if notion_questions_validation %}
  <ul>
  {% for error in notion_questions_validation %}
    <li>{{ error }}</li>
  {% endfor %}
  </ul>
{% endif %}
{% endblock content %}
